<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Encuesta de Satisfacci√≥n - Secciones</title>
  <link rel="icon" type="image/png" href="https://i.ibb.co/KppgyhQS/LOGO-NSA-REDONDO.png">
  <style>
    .rating {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      gap: 5px;
    }

    .rating input {
      display: none;
    }

    .rating label {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 2em;
      color: lightgray;
      cursor: pointer;
      transition: color 0.2s;
      flex: 1;
    }

    .rating input:checked + label .star,
    .rating label:hover .star {
      color: gold;
    }

    .star {
      font-size: 32px;
    }

    .text-label {
      font-size: 13px;
      margin-top: 4px;
      color: #333;
    }

    textarea {
      width: 97%;
      min-height: 100px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: none; 
      font-size: 14px;
      margin-top: 10px;
    }
    .rating label:hover,
.rating label:hover ~ label,
.rating input:checked ~ label {
  color: gold;
}

    
    :root{--brand:#001c70;--bg:#f5f7fa;--card:#fff;--muted:#6b7280}
    *{box-sizing:border-box}
    body{margin:0;font-family:"Segoe UI",Arial,sans-serif;background:var(--bg)}
    body::before{content:"";position:fixed;inset:0;z-index:0;background-image:radial-gradient(circle at 12% 20%, rgba(0,28,112,0.03) 0px, transparent 36px), radial-gradient(circle at 80% 10%, rgba(0,28,112,0.02) 0px, transparent 50px);pointer-events:none}
    header{background:var(--brand);color:#fff;text-align:center;padding:32px 8px;z-index:1;position:relative}
    header img{max-height:180px;display:block;margin:0 auto 20px}
    header div {
  font-size: 28px;  /* üîπ Ajusta este valor: por ejemplo 18px, 20px, 26px */
  font-weight: 700;
  line-height: 1.2;}  .container{position:relative;z-index:1;max-width:820px;margin:40px auto;background:var(--card);padding:20px;border-radius:12px;box-shadow:0 8px 30px rgba(10,20,40,0.06)}
    h1{color:var(--brand);text-align:center;margin:0 0 6px;font-size:26px}
    p.lead{text-align:center;color:var(--muted);margin:6px 0 14px}
    .steps{display:flex;gap:8px;justify-content:center;margin-bottom:12px}
    .dot{width:10px;height:10px;border-radius:50%;background:#e6eefc}
    .dot.active{background:var(--brand);box-shadow:0 4px 8px rgba(0,28,112,0.12)}
    form{width:100%}
    .section{display:none;opacity:0;transform:translateY(8px);transition:all .28s ease}
    .section.active{display:block;opacity:1;transform:none}
    .question{margin:12px 0}
    .question label{display:block;font-weight:700;color:var(--brand);margin-bottom:8px}
    .rating{display:flex;gap:8px;justify-content:space-between;align-items:flex-start}
    .rating .opt{flex:1;display:flex;flex-direction:column;align-items:center;padding:8px 6px;border-radius:8px;cursor:pointer}
    .rating input{display:none}
    .rating .star{font-size:28px;color:#d0d0d0;transition:color .15s, transform .12s}
    .rating input:checked + .opt .star{color:#f1c40f}
    .rating .text{margin-top:6px;font-size:13px;color:#333}
    .radios{display:flex;flex-direction:column;gap:8px}
    .radios label{display:flex;align-items:center;gap:10px;cursor:pointer;padding:6px 8px;border-radius:8px}
    .radios input[type="radio"]{width:18px;height:18px;accent-color:var(--brand)}
    textarea{width:100%;min-height:110px;padding:10px;font-size:14px;border-radius:8px;border:1px solid #d4dbe6;resize:none}
    .nav{display:flex;justify-content:space-between;gap:10px;margin-top:14px}
    .btn{background:var(--brand);color:#fff;border:none;padding:9px 14px;border-radius:9px;cursor:pointer;font-weight:700}
    .btn.secondary{background:transparent;color:var(--brand);border:1px solid rgba(0,28,112,0.12)}
    .btn[disabled]{opacity:.5;cursor:not-allowed}
    .message{display:none;padding:12px;border-radius:8px;margin-top:12px}
    .message.success{background:#e9f7ee;color:#0b6b2b}
    .message.error{background:#fdecea;color:#721c24}
    @media(max-width:640px){.rating .star{font-size:24px}header img{max-height:64px}.container{margin:12px;padding:14px}}
  </style>
</head>
<body>
  <header>
    <img src="https://i.ibb.co/KppgyhQS/LOGO-NSA-REDONDO.png" alt="Logo">
    <div style="font-weight:700">Hospital y Cl√≠nicas Nuestra Se√±ora de la Asunci√≥n</div>
  </header>

  <main class="container" role="main">
    <h1>Encuesta de Satisfacci√≥n</h1>
    <p class="lead">Su opini√≥n es valiosa para mejorar nuestros servicios. Esta encuesta es an√≥nima</p>

    <div class="steps" id="progress"></div>

<form id="encuesta" action="https://docs.google.com/forms/d/e/1FAIpQLScBjbOb9YIgg1aRere-sKMHjE-UGq6Arfb3bNOH4C3tKq5pQA/formResponse" method="POST" novalidate>
      <!-- SECTION: RECEPCI√ìN -->
      <section class="section active" data-step="0">
        <label>¬øC√≥mo calificar√≠a la atenci√≥n y amabilidad del personal de Recepci√≥n?</label>
      <div class="radios" role="radiogroup" aria-label="Recepci√≥n - info"></div>
        <input type="radio" id="r1-1" name="entry.1528229088" value="1"><label for="r1-1"><span class="star">‚òÖ</span><span class="text-label">Inconforme</span></label>
        <input type="radio" id="r1-2" name="entry.1528229088" value="2"><label for="r1-2"><span class="star">‚òÖ</span><span class="text-label">Aceptable</span></label>
        <input type="radio" id="r1-3" name="entry.1528229088" value="3"><label for="r1-3"><span class="star">‚òÖ</span><span class="text-label">Regular</span></label>
        <input type="radio" id="r1-4" name="entry.1528229088" value="4"><label for="r1-4"><span class="star">‚òÖ</span><span class="text-label">Bueno</span></label>
        <input type="radio" id="r1-5" name="entry.1528229088" value="5"><label for="r1-5"><span class="star">‚òÖ</span><span class="text-label">Excelente</span></label>
      </div>


        <div class="question">
          <label>2) ¬øEl personal de Recepci√≥n le brind√≥ informaci√≥n clara y pertinente?</label>
          <div class="radios" role="radiogroup" aria-label="Recepci√≥n - info">
            <label><input type="radio" name="entry.1844863279" value="S√≠" required> S√≠</label>
            <label><input type="radio" name="entry.1844863279" value="No"> No</label>
            <label><input type="radio" name="entry.1844863279" value="Parcialmente"> Parcialmente</label>
          </div>
        </div>

        <div class="nav">
          <div></div>
          <button type="button" class="btn" onclick="go(1)">Siguiente ‚Üí</button>
        </div>
      </section>

      <!-- SECTION: ENFERMER√çA -->
      <section class="section" data-step="1">
        <div class="question">
          <label>1) ¬øConoci√≥ el nombre del personal de enfermer√≠a que le brind√≥ atenci√≥n durante su estancia hospitalaria?</label>
          <div class="radios">
            <label><input type="radio" name="entry.1711677120" value="S√≠" required> S√≠</label>
            <label><input type="radio" name="entry.1711677120" value="No"> No</label>
            <label><input type="radio" name="entry.1711677120" value="Algunos"> Algunos</label>
          </div>
        </div>

        <div class="question">
          <label>2) ¬øEl personal de enfermer√≠a fue amable y respetuoso durante su estancia?</label>
          <div class="radios">
            <label><input type="radio" name="entry.189578461" value="Siempre" required> Siempre</label>
            <label><input type="radio" name="entry.189578461" value="A veces"> A veces</label>
            <label><input type="radio" name="entry.189578461" value="En ning√∫n momento"> En ning√∫n momento lo fueron</label>
          </div>
        </div>

        <div class="question">
          <label>3) ¬øRecibi√≥ un cuidado eficiente, completo y de calidad por parte del personal de enfermer√≠a?</label>
          <div class="radios">
            <label><input type="radio" name="entry.163104870" value="S√≠" required> S√≠</label>
            <label><input type="radio" name="entry.163104870" value="No"> No</label>
            <label><input type="radio" name="entry.163104870" value="Parcialmente"> Parcialmente</label>
          </div>
        </div>

        <div class="question">
          <label>4) ¬øEl personal de enfermer√≠a brind√≥ el tiempo suficiente a todas sus necesidades?</label>
          <div class="radios">
            <label><input type="radio" name="entry.1544066941" value="S√≠" required> S√≠</label>
            <label><input type="radio" name="entry.1544066941" value="No"> No</label>
            <label><input type="radio" name="entry.1544066941" value="No sabr√≠a decirlo"> No sabr√≠a decirlo</label>
          </div>
        </div>

        <div class="question">
          <label>5) Si la respuesta anterior fue "No", indique por qu√© lleg√≥ a esa conclusi√≥n.</label>
          <textarea name="entry.1757440986" placeholder="Explique brevemente..."></textarea>
        </div>

        <div class="nav">
          <button type="button" class="btn secondary" onclick="go(0)">‚Üê Anterior</button>
          <button type="button" class="btn" onclick="go(2)">Siguiente ‚Üí</button>
        </div>
      </section>

      <!-- SECTION: PERSONAL M√âDICO -->
      <section class="section" data-step="2">
        <div class="question">
          <label>1) ¬øEl m√©dico residente de turno le brind√≥ una atenci√≥n profesional, resolutiva y personalizada?</label>
          <div class="radios">
            <label><input type="radio" name="entry.2129308771" value="Todo el tiempo" required> Todo el tiempo</label>
            <label><input type="radio" name="entry.2129308771" value="La mayor√≠a de veces"> La mayor√≠a de veces</label>
            <label><input type="radio" name="entry.2129308771" value="Algunas veces"> Algunas veces</label>
            <label><input type="radio" name="entry.2129308771" value="En ning√∫n momento"> En ning√∫n momento lo fue</label>
          </div>
        </div>

        <div class="question">
          <label>2) ¬øEl m√©dico residente le explic√≥ su diagn√≥stico, tratamiento y/o procedimiento de manera clara, atenta y eficiente?</label>
          <div class="radios">
            <label><input type="radio" name="entry.262507868" value="Totalmente" required> Totalmente</label>
            <label><input type="radio" name="entry.262507868" value="Algo confusa"> Algo confusa</label>
            <label><input type="radio" name="entry.262507868" value="No obtuve una explicaci√≥n"> No obtuve una explicaci√≥n al respecto</label>
          </div>
        </div>

        <div class="nav">
          <button type="button" class="btn secondary" onclick="go(1)">‚Üê Anterior</button>
          <button type="button" class="btn" onclick="go(3)">Siguiente ‚Üí</button>
        </div>
      </section>

      <!-- SECTION: INTENDENCIA E INSTALACIONES -->
      <section class="section" data-step="3">
        <div class="question">
          <label>1) ¬øTodas las √°reas del hospital (pasillos, salas, habitaciones, etc.) se encontraban limpias y ordenadas?</label>
          <div class="radios">
            <label><input type="radio" name="entry.900846621" value="Todas" required> Todas</label>
            <label><input type="radio" name="entry.900846621" value="La mayor√≠a"> La mayor√≠a</label>
            <label><input type="radio" name="entry.900846621" value="Algunas"> Algunas</label>
            <label><input type="radio" name="entry.900846621" value="Ninguna"> Ninguna</label>
            <label><input type="radio" name="entry.900846621" value="No prest√© atenci√≥n"> No prest√© atenci√≥n a esos aspectos</label>
          </div>
        </div>

        <div class="question">
          <label>2) Si alguna √°rea no le pareci√≥ agradable, indique cu√°l fue y qu√© recomienda para mejorarla.</label>
          <textarea name="entry.1544496913" placeholder="Indique √°rea y sugerencia..."></textarea>
        </div>

        <div class="question">
          <label>3) ¬øEl personal de intendencia fue amable y realiz√≥ su trabajo adecuadamente?</label>
          <div class="radios">
            <label><input type="radio" name="entry.1959363960" value="Siempre" required> Siempre</label>
            <label><input type="radio" name="entry.1959363960" value="La mayor√≠a de veces"> La mayor√≠a de veces</label>
            <label><input type="radio" name="entry.1959363960" value="Algunas veces"> Algunas veces</label>
            <label><input type="radio" name="entry.1959363960" value="Nunca"> Nunca</label>
            <label><input type="radio" name="entry.1959363960" value="No tuve contacto"> No tuve contacto con el personal de intendencia</label>
          </div>
        </div>

        <div class="nav">
          <button type="button" class="btn secondary" onclick="go(2)">‚Üê Anterior</button>
          <button type="button" class="btn" onclick="go(4)">Siguiente ‚Üí</button>
        </div>
      </section>

      <!-- SECTION: √ÅREA DE SANITARIOS -->
      <section class="section" data-step="4">
        <div class="question">
          <label>1) ¬øLos sanitarios se encontraban aseados, con agua, jab√≥n y papel higi√©nico disponible?</label>
          <div class="radios">
            <label><input type="radio" name="entry.1601681070" value="Siempre" required> Siempre</label>
            <label><input type="radio" name="entry.1601681070" value="La mayor√≠a de veces"> La mayor√≠a de veces</label>
            <label><input type="radio" name="entry.1601681070" value="Algunas veces"> Algunas veces</label>
            <label><input type="radio" name="entry.1601681070" value="Nunca"> Nunca</label>
          </div>
        </div>

        <div class="question">
          <label>2) ¬øLa condici√≥n de los sanitarios fue satisfactoria durante su estancia?</label>
          <div class="radios">
            <label><input type="radio" name="entry.817776136" value="Totalmente" required> Totalmente</label>
            <label><input type="radio" name="entry.817776136" value="Regular"> Regular</label>
            <label><input type="radio" name="entry.817776136" value="No"> No</label>
          </div>
        </div>

        <div class="question">
          <label>3) Si la respuesta anterior fue "No", indique cu√°l fue la raz√≥n y qu√© recomienda para mejorar la situaci√≥n.</label>
          <textarea name="entry.705361263" placeholder="Explique..."></textarea>
        </div>

        <div class="nav">
          <button type="button" class="btn secondary" onclick="go(3)">‚Üê Anterior</button>
          <button type="submit" class="btn">Enviar respuesta</button>
        </div>
      </section>
    </form>

    <div id="msgSuccess" class="message success">¬°Gracias! Su respuesta fue enviada correctamente.</div>
    <div id="msgError" class="message error">Ocurri√≥ un error al enviar. Intente de nuevo.</div>
  </main>

  <script>
    // sections & progress
    const sections = Array.from(document.querySelectorAll('.section'));
    const progress = document.getElementById('progress');
    sections.forEach((s,i)=> {
      const dot = document.createElement('div'); dot.className='dot'+(i===0?' active':''); dot.dataset.i=i;
      dot.addEventListener('click', ()=> go(i));
      progress.appendChild(dot);
    });

    function show(i){
      sections.forEach((s,idx)=> s.classList.toggle('active', idx===i));
      document.querySelectorAll('.dot').forEach((d,idx)=> d.classList.toggle('active', idx===i));
      const f = sections[i].querySelector('input, textarea, select'); if(f) f.focus();
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function canAdvance(to){
      if(to <= current) return true;
      const reqs = sections[current].querySelectorAll('[required]');
      for(const el of reqs){
        if(el.type === 'radio'){
          const any = sections[current].querySelectorAll('input[name="'+el.name+'"]:checked');
          if(any.length===0) return false;
        } else if(!el.value){
          return false;
        }
      }
      return true;
    }

    let current = 0;
    function go(i){
      if(i<0||i>=sections.length) return;
      if(!canAdvance(i)){ alert('Por favor responda las preguntas obligatorias antes de continuar.'); return; }
      current = i; show(i);
    }

    // submit via fetch to avoid opening new tab
    document.getElementById('encuesta').addEventListener('submit', function(e){
      e.preventDefault();
      const form = e.target;
      const data = new FormData(form);

      // send as URL-encoded (Google expects form-encoded)
      const params = new URLSearchParams();
      for (const pair of data.entries()) params.append(pair[0], pair[1]);

      const url = form.action;

      // show loading state
      const sendBtn = form.querySelector('button[type="submit"]');
      if(sendBtn) sendBtn.disabled = true;
      document.getElementById('encuesta').addEventListener('submit', function(e){
  e.preventDefault();
  const fd = new FormData(this);
  console.group('FormData a enviar');
  for (const pair of fd.entries()) console.log(pair[0], '‚Üí', pair[1]);
  console.groupEnd();
  // ... aqu√≠ puedes continuar con el env√≠o (fetch o iframe)
  fetch(url, { method: 'POST', body: params, mode: 'no-cors' })
        .then(()=> {
          // Google Forms with no-cors returns opaque response; assume success
          document.getElementById('msgSuccess').style.display = 'block';
          setTimeout(()=> {
            document.getElementById('msgSuccess').style.display = 'none';
            form.reset();
            show(0);
            if(sendBtn) sendBtn.disabled = false;
          }, 1400);
        })
        .catch(()=> {
          document.getElementById('msgError').style.display = 'block';
          setTimeout(()=> { document.getElementById('msgError').style.display = 'none'; if(sendBtn) sendBtn.disabled = false; }, 1800);
        });
    });

});
    // init
    show(0);
  </script>
</body>
</html>
